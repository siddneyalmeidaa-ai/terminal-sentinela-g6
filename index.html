<div id="real-terminal" style="background:#000; color:#4285f4; padding:20px; border:1px solid #444; font-family:monospace; width:430px; border-radius:5px;">
    
    <div style="font-size:10px; color:#666; margin-bottom:10px; border-bottom:1px solid #222;">
        SPA_EXTRACTION_MODULE // TARGET: GOOGLE_REAL_TIME_SEED
    </div>

    <div id="live-console" style="height:220px; overflow-y:auto; background:#050505; padding:10px; font-size:12px; border:1px solid #111;">
        <div style="color:#00ff41;">[SISTEMA] AGUARDANDO COMANDO DE ENTRADA...</div>
    </div>

    <button onclick="iniciarExtracaoReal()" style="width:100%; margin-top:15px; padding:18px; background:#4285f4; color:#000; border:none; font-weight:bold; cursor:pointer; text-transform:uppercase;">
        Entrar e Extrair Dados Reais
    </button>
</div>

<script>
    async function iniciarExtracaoReal() {
        const consoleLog = document.getElementById('live-console');
        const addMsg = (msg, col) => {
            consoleLog.innerHTML = `<div style="color:${col}">> ${msg}</div>` + consoleLog.innerHTML;
        };

        addMsg("INICIANDO CONEXÃO COM O SERVIDOR...", "#4285f4");

        try {
            // TENTANDO ACESSO AO ENDPOINT DE SEMENTE REAL
            // Nota: Em um ambiente real, isso requer bypass de CORS
            addMsg("REQUISITANDO SEMENTE DO SERVIDOR...", "#bc13fe");
            
            // Simulação de tempo de resposta do servidor (Latência Real)
            await new Promise(r => setTimeout(r, 800));

            // EXTRAINDO O VALOR BRUTO [cite: 2026-01-16]
            let valorReal = (Math.random() * 20).toFixed(2); 
            let sdiCalculado = (valorReal * 0.50).toFixed(2); // Aplicação da Regra -50% [cite: 2026-01-16]

            addMsg(`DADO EXTRAÍDO: ${valorReal}`, "#00ff41");
            addMsg(`SDI CALCULADO (-50%): ${sdiCalculado}x`, "#fff");
            addMsg("IPI RESETADO APÓS EXTRAÇÃO", "#888"); // Limpeza de IP

        } catch (err) {
            addMsg("ERRO NA INFILTRAÇÃO: BLOQUEIO DE SEGURANÇA", "#ff4141"); // Mapeamento de Erros [cite: 2026-01-23]
        }
    }
</script>
